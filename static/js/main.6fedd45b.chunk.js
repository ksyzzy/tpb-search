(this["webpackJsonptpb-search"]=this["webpackJsonptpb-search"]||[]).push([[0],{334:function(e,t,n){e.exports=n(764)},343:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},351:function(e,t,n){},368:function(e,t){},370:function(e,t){},380:function(e,t){},382:function(e,t){},407:function(e,t){},409:function(e,t){},410:function(e,t){},416:function(e,t){},418:function(e,t){},436:function(e,t){},438:function(e,t){},450:function(e,t){},453:function(e,t){},458:function(e,t){},460:function(e,t){},483:function(e,t){},596:function(e,t){},764:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(117),o=n.n(c),i=n(18),s=n(66),u=n(10),l=(n(343),n(26)),p=n(27),h=n(29),m=n(28),d=(n(344),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"Header-component ".concat(this.props.theme)},a.a.createElement("header",null,"Simple TPB Movie Search Application",a.a.createElement("hr",null)))}}]),n}(a.a.Component)),f=Object(i.b)((function(e){return{theme:e.theme}}),null)(d);function E(e){return{type:"REQUEST",gotResult:e}}function b(e){return{type:"UPDATE_RESULT",result:e}}n(345);var v=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).toggleMenu=function(){var t=document.getElementsByClassName("sidebar")[0],n=document.getElementsByClassName("openbtn")[0];switch(e.props.sidemenuOpen){case!0:t.style.width="0%",n.style.marginLeft="0%",e.props.closeSidemenu();break;case!1:t.style.width="20%",n.style.marginLeft="20%",e.props.openSidemenu()}},e.toggleTheme=function(){switch(e.props.theme){case"theme1":e.props.toggleDarkTheme(),document.body.id="theme2";break;case"theme2":e.props.toggleLightTheme(),document.body.id="theme1"}},e}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"Menu-component ".concat(this.props.theme)},a.a.createElement("div",{className:"colorbar"}),a.a.createElement("div",{className:"sidebar"},a.a.createElement("nav",null,a.a.createElement(s.b,{to:"/"},"Homepage"),a.a.createElement(s.b,{to:"/history"},"Search history")),a.a.createElement("button",{className:"themebtn",onClick:this.toggleTheme.bind(this)},"theme1"===this.props.theme?"Dark Theme":"Light Theme")),a.a.createElement("div",{className:"Menu-button"},a.a.createElement("button",{className:"openbtn",onClick:this.toggleMenu.bind(this)},"\u2630")))}}]),n}(a.a.Component),y=Object(i.b)((function(e){return{theme:e.theme,sidemenuOpen:e.sidemenuOpen}}),(function(e){return{openSidemenu:function(){return e({type:"TOGGLE_SIDEMENU",sidemenuOpen:!0})},closeSidemenu:function(){return e({type:"TOGGLE_SIDEMENU",sidemenuOpen:!1})},toggleLightTheme:function(){return e({type:"TOGGLE_THEME",theme:"theme1"})},toggleDarkTheme:function(){return e({type:"TOGGLE_THEME",theme:"theme2"})}}}))(v),g=(n(347),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"handleInputChange",value:function(e){this.props.updateInput(e.target.value)}},{key:"componentDidMount",value:function(){document.body.id=this.props.theme,this.props.updateInput(""),this.props.setAjaxRequest(),this.props.checkResult(!1),this.props.updateResult(null)}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.history.push("/result")}},{key:"render",value:function(){return a.a.createElement("div",{className:"App ".concat(this.props.theme)},a.a.createElement("form",{onSubmit:this.submitForm.bind(this)},a.a.createElement("label",{htmlFor:"input"},"Movie title:"),a.a.createElement("input",{id:"input",type:"text",name:"movietitle",value:this.props.input,onChange:this.handleInputChange.bind(this),required:!0}),a.a.createElement("div",{className:"radios"},a.a.createElement("label",{id:"connectionTitle"},"Connection type:"),a.a.createElement("div",{className:"item"},a.a.createElement("label",{htmlFor:"ajax",className:"radioLabel"},"AJAX"),a.a.createElement("input",{type:"radio",id:"ajax",name:"connectionType",value:"ajax",onChange:this.props.setAjaxRequest,checked:"ajax"===this.props.connection})),a.a.createElement("div",{className:"item"},a.a.createElement("label",{htmlFor:"imdb",className:"radioLabel"},"AJAX + IMDB ID"),a.a.createElement("input",{type:"radio",id:"imdb",name:"connectionType",value:"imdb",onChange:this.props.setImdbRequest,checked:"imdb"===this.props.connection})),a.a.createElement("div",{className:"item"},a.a.createElement("label",{htmlFor:"node",className:"radioLabel"},"NODE.js + IMDB ID"),a.a.createElement("input",{type:"radio",id:"node",name:"connectionType",value:"node",onChange:this.props.setNodeRequest,checked:"node"===this.props.connection}))),a.a.createElement("input",{id:"submitbtn",type:"submit",value:"Search"})))}}]),n}(a.a.Component)),O=Object(u.f)(Object(i.b)((function(e){return{input:e.input,connection:e.connection,theme:e.theme,result:e.result,gotResult:e.gotResult}}),(function(e){return{setAjaxRequest:function(){return e({type:"SET_AJAX_REQUEST",connection:"ajax"})},setImdbRequest:function(){return e({type:"SET_IMDB_REQUEST",connection:"imdb"})},setNodeRequest:function(){return e({type:"SET_NODE_REQUEST",connection:"node"})},updateInput:function(t){return e({type:"UPDATE_INPUT",input:t})},checkResult:function(t){return e(E(t))},updateResult:function(t){return e(b(t))}}}))(g)),j=(n(348),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"Footer-component ".concat(this.props.theme)},a.a.createElement("footer",null,a.a.createElement("hr",null),"Made by kushiji with React 2020"))}}]),n}(a.a.Component)),k=Object(i.b)((function(e){return{theme:e.theme}}),null)(j),T=(n(349),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.history)}},{key:"render",value:function(){var e=this.props.history.map((function(e,t){return a.a.createElement("li",{key:t},"Item: ",e.item,", Connection: ",e.connection,", Result: ",e.result.toString())}));return a.a.createElement("div",{className:"history-component ".concat(this.props.theme)},this.props.history.length?a.a.createElement("h1",null,"Search history:"):a.a.createElement("h1",null,"History is clear"),a.a.createElement("ul",null,e))}}]),n}(a.a.Component)),R=Object(i.b)((function(e){return{theme:e.theme,history:e.history}}))(T),x=n(30),S=n.n(x),w=n(53);n(351);function N(e){return D.apply(this,arguments)}function D(){return(D=Object(w.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://cors-anywhere.herokuapp.com/",e.next=4,fetch("https://cors-anywhere.herokuapp.com/https://pirateproxy.surf/api?url=/q.php?q="+t.toString());case 4:return n=e.sent,e.next=7,n.json();case 7:if("No results returned"!==e.sent[0].name){e.next=12;break}return e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),alert(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function _(e){var t=n(190);return new Promise(function(){var n=Object(w.a)(S.a.mark((function n(r,a){var c;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t(e);case 3:c=n.sent,r(c),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}())}function I(e){return M.apply(this,arguments)}function M(){return(M=Object(w.a)(S.a.mark((function e(t){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(190),e.next=3,_(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return A.apply(this,arguments)}function A(){return(A=Object(w.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://equinox-brook-push.glitch.me/api/movie?"+new URLSearchParams({title:t}));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(w.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,""!==this.props.input){e.next=3;break}return e.abrupt("return");case 3:e.t0=this.props.connection,e.next="ajax"===e.t0?6:"imdb"===e.t0?13:"node"===e.t0?31:46;break;case 6:return e.next=8,N(this.props.input);case 8:return t=e.sent,this.props.updateResult(t),this.props.appendToHistory(this.props.input,this.props.connection,this.props.result),this.props.checkResult(!0),e.abrupt("break",47);case 13:return e.prev=13,e.next=16,I(this.props.input);case 16:return n=e.sent,e.next=19,N(n);case 19:t=e.sent,this.props.updateResult(t),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(13),"Movie not found"===e.t1?this.props.updateResult(!1):console.log(e.t1);case 26:return e.prev=26,this.props.appendToHistory(this.props.input,this.props.connection,this.props.result),this.props.checkResult(!0),e.finish(26);case 30:return e.abrupt("break",47);case 31:return e.prev=31,e.next=34,U(this.props.input);case 34:(t=e.sent).error?this.props.updateResult(!1):this.props.updateResult(!0),e.next=41;break;case 38:e.prev=38,e.t2=e.catch(31),console.log(e.t2);case 41:return e.prev=41,this.props.appendToHistory(this.props.input,this.props.connection,this.props.result),this.props.checkResult(!0),e.finish(41);case 45:case 46:return e.abrupt("break",47);case 47:case"end":return e.stop()}}),e,this,[[13,23,26,30],[31,38,41,45]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",{className:"result-component ".concat(this.props.theme)},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("b",null,"Input:")," ",this.props.input),a.a.createElement("li",null,a.a.createElement("b",null,"Connection:")," ",this.props.connection),a.a.createElement("li",null,a.a.createElement("b",null,"Result:")," ",this.props.input?this.props.gotResult?this.props.result.toString():"Connecting...":"Error - provide a movie title")),this.props.input?this.props.gotResult?a.a.createElement("i",{className:"fas fa-check"}):a.a.createElement("i",{className:"fas fa-spinner fa-spin"}):a.a.createElement("i",{className:"fas fa-times"}))}}]),n}(a.a.Component),L=Object(i.b)((function(e){return{input:e.input,connection:e.connection,theme:e.theme,gotResult:e.gotResult,result:e.result}}),(function(e){return{appendToHistory:function(t,n,r){return e(function(e,t,n){return{type:"UPDATE_HISTORY",item:{title:e,connection:t,result:n}}}(t,n,r))},checkResult:function(t){return e(E(t))},updateResult:function(t){return e(b(t))}}}))(C);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=n(65),H=n(333);var q=Object(G.b)({input:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_INPUT":return t.input;default:return e}},connection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ajax",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AJAX_REQUEST":case"SET_IMDB_REQUEST":case"SET_NODE_REQUEST":return t.connection;default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"theme1",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_THEME":return t.theme;default:return e}},sidemenuOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"false",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SIDEMENU":return t.sidemenuOpen;default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_HISTORY":return[].concat(Object(H.a)(e),[{item:t.item.title,connection:t.item.connection,result:t.item.result}]);default:return e}},gotResult:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST":return t.gotResult;default:return e}},result:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_RESULT":return t.result;default:return e}}}),P=Object(G.c)(q,{input:"",connection:"ajax",theme:"theme1",sidemenuOpen:!1,history:[],gotResult:!1,result:null});o.a.render(a.a.createElement(i.a,{store:P},a.a.createElement(a.a.StrictMode,null,a.a.createElement(s.a,null,a.a.createElement(u.c,null,a.a.createElement(u.a,{path:"/history"},a.a.createElement(f,null),a.a.createElement(y,null),a.a.createElement(R,null),a.a.createElement(k,null)),a.a.createElement(u.a,{path:"/result"},a.a.createElement(f,null),a.a.createElement(y,null),a.a.createElement(L,null),a.a.createElement(k,null)),a.a.createElement(u.a,{path:"/"},a.a.createElement(f,null),a.a.createElement(y,null),a.a.createElement(O,null),a.a.createElement(k,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[334,1,2]]]);
//# sourceMappingURL=main.6fedd45b.chunk.js.map